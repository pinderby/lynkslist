<div class="container col-md-12">
  <button type="button" class="btn btn-primary btn-lg" ng-click="refresh()"><span class="glyphicon glyphicon-refresh" aria-hidden="true" style="margin-right: 3px;"></span></button>
  Sort by:
  <select class="form-control sort-select" ng-model="orderProp" ng-change="updateSort()">
    <option value="-points">Most upvoted</option>
    <option value="-views">Most viewed</option>
    <option value="-published_at">Most recent</option>
  </select>
  <select class="form-control timescope-select" ng-model="timescope" ng-change="updateTimescope()" ng-show="orderProp=='-points' || orderProp=='-views'">
    <option value="1">Today</option>
    <option value="7">This Week</option>
    <option value="30">This Month</option>
  </select>
</div>
<div class="container col-md-12">
  <uib-pager total-items="totalItems" ng-model="currentPage"></uib-pager>
</div>
<div class="content_feed_container" ng-repeat="post in posts | orderBy:orderProp">
  <div class="post_container container">
    <div class="votes_container">
      <div class="upvote_container"><a class="upvote upvote_{{post.id}}" ng-click="upvote(post)"><span class="upvote glyphicon glyphicon-chevron-up" aria-hidden="true" style=""></span></a></div>
      <div class="vote_points vote_points_{{post.id}}">{{post.points + 0}}</div>
      <div class="downvote_container"><a class="downvote downvote_{{post.id}}" ng-click="downvote(post)"><span class="downvote glyphicon glyphicon-chevron-down" aria-hidden="true" style=""></span></a></div>
    </div>
    <div class="thumbnail_container" ng-if="post.img_url">
      <img class="thumbnail" ng-src="{{post.img_url}}">
    </div>
    <div class="content_container col-sm-9">
      <a class="content_title" href="" ng-click="openLink(post)"><span>{{post.title}}</span></a>
      <!-- Trigger -->
      <button class="btn btn-clipboard btn-xs btn-default" data-clipboard-text="{{post.canonical_url}}">
          <span class="glyphicon glyphicon-copy" aria-hidden="true" style=""></span>
      </button>
      <a href="{{post.canonical_url}}" class="btn btn-postlink btn-xs btn-default">
          <span class="glyphicon glyphicon-link" aria-hidden="true" style=""></span>
      </a>
      </br>
      <div class="publisher_container">
        <img class="publisher_img" ng-src="{{post.source.profile_url}}">
        <p class="publisher_name">@{{post.source.name}}</p>
        <h5 class="published_time"><small>posted {{post.published_relative}}</small></h5>
      </div>
      <p class="content_summary">{{post.summary}}</p>
      <div class="post_stats_container">
        <a class="post_stat view_stat_{{post.id}}"><span class="views glyphicon glyphicon-eye-open" aria-hidden="true" style=""></span><span class="view_count_{{post.id}}">{{post.views + 0}}</span></a>
        <a class="post_stat save_stat_{{post.id}}" ng-click="savePost($event, post)"><span class="saves glyphicon glyphicon-bookmark" aria-hidden="true" style=""></span><span class="save_count_{{post.id}}">{{post.saves.length + 0}}</span></a>
        <!-- TODO --DM-- commented until sharing and commenting is implemented -->
        <!-- <a class="post_stat"><span class="shares  glyphicon glyphicon-share-alt" aria-hidden="true" style=""></span>{{post.shares + 0}}</a>
        <a class="post_stat"><span class="comments glyphicon glyphicon-comment" aria-hidden="true" style=""></span>128</a> -->
      </div>
    </div>
  </div>
</div>